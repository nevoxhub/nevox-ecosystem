/* =====================================*/
   ‚ö° NEVOX LAZY LOADING SYSTEM v4.1
   ALL DEVICE FRIENDLY ‚Ä¢ UNIVERSAL DESIGN
/* =====================================*/

/* =====================================*/
   üéØ DEVICE-SPECIFIC MEDIA QUERIES
   COMPLETE BREAKPOINT SYSTEM
/* =====================================*/

/* üïê EXTRA SMALL DEVICES - Wearables, Smartwatches */
@media (max-width: 240px) {
  .nvx-lazy {
    min-height: 60px;
    --nvx-lazy-size-sm: 40px;
    --nvx-lazy-size-md: 60px;
    --nvx-lazy-size-lg: 80px;
    --nvx-lazy-size-xl: 100px;
  }
  
  .nvx-lazy-placeholder i {
    font-size: 16px;
    margin-bottom: 2px;
  }
  
  .nvx-lazy-placeholder span {
    font-size: 8px;
  }
  
  .nvx-lazy-error-icon {
    font-size: 20px;
  }
  
  .nvx-lazy-error-message {
    font-size: 9px;
  }
  
  .nvx-lazy-error-retry,
  .nvx-lazy-error-cancel {
    padding: 2px 6px;
    font-size: 8px;
    min-height: 24px;
  }
}

/* üì± SMALL MOBILE - 240px to 360px */
@media (min-width: 241px) and (max-width: 360px) {
  .nvx-lazy {
    min-height: 80px;
    --nvx-lazy-size-sm: 50px;
    --nvx-lazy-size-md: 80px;
    --nvx-lazy-size-lg: 120px;
    --nvx-lazy-size-xl: 160px;
  }
  
  .nvx-lazy-placeholder i {
    font-size: 20px;
  }
  
  .nvx-lazy-placeholder span {
    font-size: 9px;
  }
}

/* üì± MOBILE PORTRAIT - 360px to 480px */
@media (min-width: 361px) and (max-width: 480px) {
  .nvx-lazy {
    min-height: 100px;
    --nvx-lazy-size-sm: 60px;
    --nvx-lazy-size-md: 100px;
    --nvx-lazy-size-lg: 150px;
    --nvx-lazy-size-xl: 200px;
  }
  
  .nvx-lazy-placeholder i {
    font-size: 24px;
  }
}

/* üì± MOBILE LANDSCAPE - 481px to 768px */
@media (min-width: 481px) and (max-width: 768px) and (orientation: landscape) {
  .nvx-lazy {
    min-height: 120px;
    --nvx-lazy-size-sm: 70px;
    --nvx-lazy-size-md: 120px;
    --nvx-lazy-size-lg: 180px;
    --nvx-lazy-size-xl: 240px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* üì± MOBILE PORTRAIT - 481px to 768px */
@media (min-width: 481px) and (max-width: 768px) and (orientation: portrait) {
  .nvx-lazy {
    min-height: 140px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* üìü TABLET PORTRAIT - 769px to 1024px */
@media (min-width: 769px) and (max-width: 1024px) and (orientation: portrait) {
  .nvx-lazy {
    min-height: 180px;
    --nvx-lazy-size-sm: 90px;
    --nvx-lazy-size-md: 180px;
    --nvx-lazy-size-lg: 270px;
    --nvx-lazy-size-xl: 360px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(3, 1fr);
  }
  
  .nvx-lazy-placeholder i {
    font-size: 36px;
  }
}

/* üìü TABLET LANDSCAPE - 769px to 1024px */
@media (min-width: 769px) and (max-width: 1024px) and (orientation: landscape) {
  .nvx-lazy {
    min-height: 160px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* üíª LAPTOP SMALL - 1025px to 1280px */
@media (min-width: 1025px) and (max-width: 1280px) {
  .nvx-lazy {
    min-height: 200px;
    --nvx-lazy-size-sm: 100px;
    --nvx-lazy-size-md: 200px;
    --nvx-lazy-size-lg: 300px;
    --nvx-lazy-size-xl: 400px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* üíª LAPTOP MEDIUM - 1281px to 1440px */
@media (min-width: 1281px) and (max-width: 1440px) {
  .nvx-lazy {
    min-height: 220px;
    --nvx-lazy-size-sm: 110px;
    --nvx-lazy-size-md: 220px;
    --nvx-lazy-size-lg: 330px;
    --nvx-lazy-size-xl: 440px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(5, 1fr);
  }
}

/* üíª LAPTOP LARGE - 1441px to 1680px */
@media (min-width: 1441px) and (max-width: 1680px) {
  .nvx-lazy {
    min-height: 240px;
    --nvx-lazy-size-sm: 120px;
    --nvx-lazy-size-md: 240px;
    --nvx-lazy-size-lg: 360px;
    --nvx-lazy-size-xl: 480px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(5, 1fr);
  }
}

/* üñ•Ô∏è DESKTOP - 1681px to 1920px */
@media (min-width: 1681px) and (max-width: 1920px) {
  .nvx-lazy {
    min-height: 260px;
    --nvx-lazy-size-sm: 130px;
    --nvx-lazy-size-md: 260px;
    --nvx-lazy-size-lg: 390px;
    --nvx-lazy-size-xl: 520px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(6, 1fr);
  }
}

/* üñ•Ô∏è DESKTOP ULTRA-WIDE - 1921px to 2560px */
@media (min-width: 1921px) and (max-width: 2560px) {
  .nvx-lazy {
    min-height: 280px;
    --nvx-lazy-size-sm: 140px;
    --nvx-lazy-size-md: 280px;
    --nvx-lazy-size-lg: 420px;
    --nvx-lazy-size-xl: 560px;
    --nvx-lazy-size-2xl: 700px;
    --nvx-lazy-size-3xl: 840px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(6, 1fr);
  }
  
  .nvx-lazy-grid-wide {
    grid-template-columns: repeat(8, 1fr);
  }
}

/* üñ•Ô∏è 4K ULTRA HD - 2561px to 3840px */
@media (min-width: 2561px) and (max-width: 3840px) {
  .nvx-lazy {
    min-height: 320px;
    --nvx-lazy-size-sm: 160px;
    --nvx-lazy-size-md: 320px;
    --nvx-lazy-size-lg: 480px;
    --nvx-lazy-size-xl: 640px;
    --nvx-lazy-size-2xl: 800px;
    --nvx-lazy-size-3xl: 960px;
    --nvx-lazy-size-4xl: 1120px;
  }
  
  .nvx-lazy-placeholder i {
    font-size: 64px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(8, 1fr);
  }
  
  .nvx-lazy-grid-wide {
    grid-template-columns: repeat(10, 1fr);
  }
  
  .nvx-lazy-error-icon {
    font-size: 64px;
  }
}

/* üñ•Ô∏è 8K ULTRA HD - 3841px to 7680px */
@media (min-width: 3841px) and (max-width: 7680px) {
  .nvx-lazy {
    min-height: 400px;
    --nvx-lazy-size-sm: 200px;
    --nvx-lazy-size-md: 400px;
    --nvx-lazy-size-lg: 600px;
    --nvx-lazy-size-xl: 800px;
    --nvx-lazy-size-2xl: 1000px;
    --nvx-lazy-size-3xl: 1200px;
    --nvx-lazy-size-4xl: 1400px;
    --nvx-lazy-size-5xl: 1600px;
  }
  
  .nvx-lazy-placeholder i {
    font-size: 80px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(10, 1fr);
  }
  
  .nvx-lazy-grid-wide {
    grid-template-columns: repeat(12, 1fr);
  }
}

/* üì∫ TV - 1080p to 4K (viewing distance considered) */
@media (min-width: 1920px) and (min-height: 1080px) and (hover: none) and (pointer: coarse) {
  .nvx-lazy {
    min-height: 300px;
    --nvx-lazy-size-md: 300px;
    --nvx-lazy-size-lg: 450px;
    --nvx-lazy-size-xl: 600px;
  }
  
  .nvx-lazy-placeholder i {
    font-size: 72px;
  }
  
  .nvx-lazy-placeholder span {
    font-size: 24px;
  }
  
  .nvx-lazy-error-retry,
  .nvx-lazy-error-cancel {
    min-height: 60px;
    min-width: 200px;
    font-size: 20px;
  }
}

/* =====================================*/
   üéØ FOLDABLE DEVICE OPTIMIZATION
/* =====================================*/

/* Samsung Galaxy Fold, Huawei Mate X, etc. */
@media (max-width: 280px) and (max-height: 653px) {
  .nvx-lazy {
    min-height: 80px;
  }
  
  .nvx-lazy[data-aspect] {
    aspect-ratio: auto;
    height: 80px;
  }
}

/* Foldable - Unfolded State */
@media (min-width: 600px) and (max-width: 800px) and (min-height: 1000px) {
  .nvx-lazy {
    min-height: 200px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* Foldable - Dual Screen */
@supports (horizontal-viewport-segments: 2) {
  .nvx-lazy {
    --nvx-lazy-segment-width: calc(100vw / env(horizontal-viewport-segments, 1));
  }
  
  .nvx-lazy-segment-left {
    width: var(--nvx-lazy-segment-width);
    margin-right: env(viewport-segment-width, 0px);
  }
  
  .nvx-lazy-segment-right {
    width: var(--nvx-lazy-segment-width);
    margin-left: env(viewport-segment-width, 0px);
  }
}

/* =====================================*/
   üéØ WEARABLE DEVICES (Smartwatches)
/* =====================================*/

/* Apple Watch, Samsung Galaxy Watch, etc. */
@media (max-width: 200px) and (max-height: 250px) {
  .nvx-lazy {
    display: none; /* Or use minimal version */
  }
  
  .nvx-lazy-wearable {
    display: block;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--nvx-lazy-500);
    animation: nvx-lazy-wearable-pulse 1.5s infinite;
  }
  
  @keyframes nvx-lazy-wearable-pulse {
    0%, 100% { opacity: 0.5; transform: scale(0.8); }
    50% { opacity: 1; transform: scale(1); }
  }
}

/* =====================================*/
   üéØ E-READER DEVICES (Kindle, Kobo, etc.)
/* =====================================*/

@media (monochrome) {
  .nvx-lazy {
    filter: grayscale(1);
    background: #f0f0f0;
  }
  
  .nvx-lazy-shimmer {
    background: linear-gradient(
      90deg,
      #e0e0e0 25%,
      #d0d0d0 50%,
      #e0e0e0 75%
    );
  }
  
  .nvx-lazy-placeholder i {
    display: none;
  }
  
  .nvx-lazy-placeholder span {
    color: #333;
  }
}

/* =====================================*/
   üéØ GAME CONSOLES & STREAMING DEVICES
/* =====================================*/

/* PlayStation, Xbox, Apple TV, etc. */
@media (hover: none) and (pointer: coarse) and (min-width: 1280px) {
  .nvx-lazy {
    min-height: 300px;
  }
  
  .nvx-lazy-error-retry,
  .nvx-lazy-error-cancel,
  .nvx-lazy-cache-refresh,
  .nvx-lazy-abort {
    min-height: 60px;
    min-width: 200px;
    font-size: 24px;
  }
  
  .nvx-lazy-placeholder i {
    font-size: 80px;
  }
}

/* =====================================*/
   üéØ TOUCH DEVICE OPTIMIZATION (All)
/* =====================================*/

@media (hover: none) and (pointer: coarse) {
  /* All touch devices - mobile, tablet, TV */
  .nvx-lazy-error-retry,
  .nvx-lazy-error-cancel,
  .nvx-lazy-cache-refresh,
  .nvx-lazy-abort {
    min-height: 48px;
    min-width: 48px;
  }
  
  .nvx-lazy-error-retry {
    padding: 12px 24px;
  }
  
  /* Remove hover effects on touch devices */
  .nvx-lazy:hover {
    transform: none;
    box-shadow: none;
  }
  
  .nvx-lazy-error-retry:hover {
    transform: none;
  }
  
  /* Better touch targets */
  .nvx-lazy-media,
  .nvx-lazy-img,
  .nvx-lazy-bg {
    cursor: pointer;
    -webkit-tap-highlight-color: rgba(59, 130, 246, 0.2);
  }
}

/* =====================================*/
   üéØ HIGH REFRESH RATE DEVICES (120Hz+)
/* =====================================*/

@media (prefers-reduced-motion: no-preference) and (min-resolution: 2dppx) {
  .nvx-lazy-shimmer,
  .nvx-lazy-pulse,
  .nvx-lazy-error-pulse {
    animation-duration: calc(var(--nvx-lazy-duration-slow) * 0.8);
  }
}

/* =====================================*/
   üéØ LOW BATTERY DEVICES
/* =====================================*/

@media (prefers-reduced-data: reduce) or (prefers-reduced-transparency: reduce) {
  .nvx-lazy-shimmer,
  .nvx-lazy-pulse,
  .nvx-lazy-error-pulse {
    animation: none;
  }
  
  .nvx-lazy-blur {
    filter: none;
  }
  
  .nvx-lazy-glass {
    backdrop-filter: none;
    background: var(--nvx-lazy-neutral-100);
  }
}

/* =====================================*/
   üéØ PRINTER-FRIENDLY (All printers)
/* =====================================*/

@media print {
  .nvx-lazy {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
  
  .nvx-lazy-media,
  .nvx-lazy-img,
  .nvx-lazy-bg,
  .nvx-lazy-iframe,
  .nvx-lazy-video,
  .nvx-lazy-picture {
    filter: none !important;
    transform: none !important;
    opacity: 1 !important;
  }
}

/* =====================================*/
   üéØ PROJECTOR & EXTERNAL DISPLAYS
/* =====================================*/

@media (projection) {
  .nvx-lazy {
    min-height: 400px;
    --nvx-lazy-size-md: 400px;
    --nvx-lazy-size-lg: 600px;
    --nvx-lazy-size-xl: 800px;
  }
  
  .nvx-lazy-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* =====================================*/
   üéØ CAR INFOTAINMENT SYSTEMS
/* =====================================*/

@media (max-width: 1024px) and (min-aspect-ratio: 16/9) and (pointer: coarse) and (any-pointer: coarse) {
  .nvx-lazy {
    min-height: 150px;
    --nvx-lazy-size-md: 150px;
  }
  
  .nvx-lazy-error-retry,
  .nvx-lazy-error-cancel,
  .nvx-lazy-cache-refresh,
  .nvx-lazy-abort {
    min-height: 60px;
    min-width: 120px;
  }
}

/* =====================================*/
   üéØ AUGMENTED REALITY / VIRTUAL REALITY
/* =====================================*/

@media (environment-blending: additive) or (environment-blending: subtractive) {
  .nvx-lazy {
    --nvx-lazy-glass-bg: rgba(255, 255, 255, 0.3);
    --nvx-lazy-glass-blur: blur(30px);
    backdrop-filter: var(--nvx-lazy-glass-blur);
    -webkit-backdrop-filter: var(--nvx-lazy-glass-blur);
  }
}

/* =====================================*/
   üéØ DEVICE ORIENTATION + SIZE COMBINATIONS
/* =====================================*/

/* Small device in landscape */
@media (max-height: 400px) and (orientation: landscape) {
  .nvx-lazy {
    min-height: 100px;
  }
  
  .nvx-lazy[data-aspect] {
    aspect-ratio: auto;
    height: 100px;
  }
}

/* Tablet in portrait */
@media (min-width: 768px) and (max-width: 1024px) and (orientation: portrait) {
  .nvx-lazy-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Desktop in portrait (ultrawide rotated) */
@media (min-width: 1080px) and (orientation: portrait) {
  .nvx-lazy-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* =====================================*/
   üéØ DEVICE PIXEL RATIO OPTIMIZATION
/* =====================================*/

/* Low DPI devices */
@media (resolution: 1dppx) {
  .nvx-lazy-img {
    image-rendering: crisp-edges;
  }
}

/* High DPI devices (Retina) */
@media (min-resolution: 2dppx) {
  .nvx-lazy-img {
    image-rendering: -webkit-optimize-contrast;
  }
}

/* Ultra High DPI devices (4K+) */
@media (min-resolution: 3dppx) {
  .nvx-lazy-placeholder i {
    font-size: calc(48px * 1.5);
  }
}

/* =====================================*/
   üéØ DEVICE MEMORY OPTIMIZATION
/* =====================================*/

/* Low memory devices */
@media (max-device-memory: 2GB) {
  .nvx-lazy {
    content-visibility: auto;
    contain-intrinsic-size: 1px 500px;
  }
  
  .nvx-lazy-shimmer,
  .nvx-lazy-pulse,
  .nvx-lazy-error-pulse {
    animation: none;
  }
}

/* High memory devices */
@media (min-device-memory: 8GB) {
  .nvx-lazy {
    content-visibility: visible;
    contain: none;
  }
  
  .nvx-lazy-shimmer {
    animation-duration: 1s;
  }
}

/* =====================================*/
   üéØ CONTAINER QUERIES FOR COMPONENT-LEVEL RESPONSIVENESS
/* =====================================*/

.nvx-lazy-container {
  container-type: inline-size;
  container-name: lazy;
}

@container lazy (max-width: 200px) {
  .nvx-lazy {
    min-height: 80px;
  }
  
  .nvx-lazy-placeholder i {
    font-size: 16px;
    margin-bottom: 2px;
  }
  
  .nvx-lazy-placeholder span {
    display: none;
  }
}

@container lazy (min-width: 201px) and (max-width: 400px) {
  .nvx-lazy {
    min-height: 120px;
  }
  
  .nvx-lazy-placeholder i {
    font-size: 24px;
  }
  
  .nvx-lazy-placeholder span {
    font-size: 10px;
  }
}

@container lazy (min-width: 401px) and (max-width: 600px) {
  .nvx-lazy {
    min-height: 160px;
  }
  
  .nvx-lazy-placeholder i {
    font-size: 32px;
  }
}

@container lazy (min-width: 601px) and (max-width: 800px) {
  .nvx-lazy {
    min-height: 200px;
  }
  
  .nvx-lazy-placeholder i {
    font-size: 40px;
  }
}

@container lazy (min-width: 801px) {
  .nvx-lazy {
    min-height: 240px;
  }
  
  .nvx-lazy-placeholder i {
    font-size: 48px;
  }
}

/* =====================================*/
   üéØ UNIVERSAL GRID SYSTEM
/* =====================================*/

.nvx-lazy-grid {
  display: grid;
  gap: var(--nvx-lazy-space-4);
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
}

/* Responsive grid based on container width */
@container lazy (min-width: 400px) {
  .nvx-lazy-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@container lazy (min-width: 600px) {
  .nvx-lazy-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@container lazy (min-width: 800px) {
  .nvx-lazy-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

@container lazy (min-width: 1000px) {
  .nvx-lazy-grid {
    grid-template-columns: repeat(5, 1fr);
  }
}

@container lazy (min-width: 1200px) {
  .nvx-lazy-grid {
    grid-template-columns: repeat(6, 1fr);
  }
}

/* =====================================*/
   üéØ FLUID TYPOGRAPHY FOR ALL DEVICES
/* =====================================*/

.nvx-lazy-fluid-text {
  font-size: clamp(0.75rem, 2vw, 1.5rem);
}

.nvx-lazy-fluid-icon {
  font-size: clamp(24px, 5vw, 64px);
}

.nvx-lazy-fluid-spacing {
  padding: clamp(8px, 2vw, 24px);
}

/* =====================================*/
   üéØ DEVICE DETECTION UTILITY CLASSES
/* =====================================*/

/* Mobile detection */
.nvx-device-mobile .nvx-lazy { }
.nvx-device-tablet .nvx-lazy { }
.nvx-device-desktop .nvx-lazy { }
.nvx-device-tv .nvx-lazy { }
.nvx-device-wearable .nvx-lazy { }
.nvx-device-foldable .nvx-lazy { }
.nvx-device-ereader .nvx-lazy { }
.nvx-device-console .nvx-lazy { }

/* Touch detection */
.nvx-device-touch .nvx-lazy { }
.nvx-device-mouse .nvx-lazy { }
.nvx-device-stylus .nvx-lazy { }

/* Orientation detection */
.nvx-orientation-portrait .nvx-lazy { }
.nvx-orientation-landscape .nvx-lazy { }

/* =====================================*/
   ‚ö° NEVOX LAZY LOADING v4.1
   ALL DEVICE FRIENDLY ‚Ä¢ UNIVERSAL DESIGN
   MAXIMUM PERFORMANCE ‚Ä¢ ZERO TOLERANCE
/* =====================================*/
