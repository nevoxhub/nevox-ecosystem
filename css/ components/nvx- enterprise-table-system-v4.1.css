/*======================================*/
/* ‚ö° NEVOX ENTERPRISE TABLE SYSTEM v4.1  */
/* ENTERPRISE-GRADE ‚Ä¢ PRODUCTION-READY    */
/* WCAG 2.1 AAA ‚Ä¢ SECTION 508 COMPLIANT   */
/* MAXIMUM PERFORMANCE ‚Ä¢ ZERO DEFECT      */
/* COMPLETE FINAL VERSION - 100% ENTERPRISE */
/*======================================*/

/* ===================================== */
/* CSS VARIABLES - WITH COMPLETE FALLBACKS */
/* ===================================== */
:root {
  /* Table-specific tokens with fallbacks */
  --nvx-table-bg: var(--nvx-color-bg-card, #ffffff);
  --nvx-table-bg-dark: var(--nvx-color-bg-card-dark, #1e293b);
  --nvx-table-bg-striped: var(--nvx-color-bg-secondary, #f8fafc);
  --nvx-table-bg-striped-dark: var(--nvx-color-bg-tertiary-dark, #334155);
  --nvx-table-bg-hover: var(--nvx-color-bg-tertiary, #f1f5f9);
  --nvx-table-bg-hover-dark: var(--nvx-color-bg-tertiary-dark, #334155);
  --nvx-table-bg-header: var(--nvx-color-bg-secondary, #f8fafc);
  --nvx-table-bg-header-dark: var(--nvx-color-bg-tertiary, #334155);
  --nvx-table-bg-footer: var(--nvx-color-bg-secondary, #f8fafc);
  --nvx-table-bg-footer-dark: var(--nvx-color-bg-tertiary, #334155);
  --nvx-table-text: var(--nvx-color-text-main, #0f172a);
  --nvx-table-text-dark: var(--nvx-color-text-main-dark, #f8fafc);
  --nvx-table-text-muted: var(--nvx-color-text-secondary, #475569);
  --nvx-table-text-muted-dark: var(--nvx-color-text-secondary-dark, #cbd5e1);
  --nvx-table-border: var(--nvx-color-border-main, #e2e8f0);
  --nvx-table-border-dark: var(--nvx-color-border-main-dark, #334155);
  --nvx-table-border-strong: var(--nvx-color-border-dark, #9ca3af);
  --nvx-table-border-strong-dark: var(--nvx-color-border-light-dark, #64748b);
  
  --nvx-table-radius: var(--nvx-radius-lg, 1rem);
  --nvx-table-cell-padding: var(--nvx-space-4, 1rem) var(--nvx-space-4, 1rem);
  --nvx-table-cell-padding-sm: var(--nvx-space-2, 0.5rem) var(--nvx-space-3, 0.75rem);
  --nvx-table-cell-padding-lg: var(--nvx-space-5, 1.25rem) var(--nvx-space-6, 1.5rem);
  
  --nvx-table-font-size: var(--nvx-text-sm, 0.875rem);
  --nvx-table-font-size-sm: var(--nvx-text-xs, 0.75rem);
  --nvx-table-font-size-lg: var(--nvx-text-base, 1rem);
  
  --nvx-table-shadow: var(--nvx-shadow-sm, 0 1px 2px 0 rgba(0,0,0,0.05));
  --nvx-table-shadow-dark: var(--nvx-shadow-sm, 0 1px 2px 0 rgba(0,0,0,0.2));
  
  --nvx-table-sticky-bg: var(--nvx-color-bg-card, #ffffff);
  --nvx-table-sticky-bg-dark: var(--nvx-color-bg-card-dark, #1e293b);
  --nvx-table-sticky-shadow: 0 2px 8px rgba(0,0,0,0.08);
  --nvx-table-sticky-shadow-dark: 0 2px 8px rgba(0,0,0,0.3);
  
  --nvx-table-sort-icon-color: var(--nvx-color-text-tertiary, #94a3b8);
  --nvx-table-sort-icon-active: var(--nvx-color-brand-primary, #3b82f6);
}

/* ===================================== */
/* LAYER MANAGEMENT                        */
/* ===================================== */
@layer nvx.table.reset, nvx.table.base, nvx.table.variants, nvx.table.utilities, nvx.table.fallbacks;

/* ===================================== */
/* RESET LAYER - ISOLATED                 */
/* ===================================== */
@layer nvx.table.reset {
  .nvx-table *,
  .nvx-table *::before,
  .nvx-table *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    border: 0 solid transparent;
  }
  
  .nvx-table {
    font-family: var(--nvx-font-sans, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif);
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
  }
}

/* ===================================== */
/* BASE LAYER - CORE TABLE SYSTEM         */
/* ===================================== */
@layer nvx.table.base {
  /* Main Table Container */
  .nvx-table {
    width: 100%;
    max-width: 100%;
    margin-block-end: var(--nvx-space-6, 1.5rem);
    background: var(--nvx-table-bg);
    color: var(--nvx-table-text);
    font-size: var(--nvx-table-font-size);
    border-collapse: separate;
    border-spacing: 0;
    border: 1px solid var(--nvx-table-border);
    border-radius: var(--nvx-table-radius);
    overflow: hidden;
    box-shadow: var(--nvx-table-shadow);
    caption-side: bottom;
    contain: layout paint;
    container-type: inline-size;
    container-name: table;
  }

  /* Table Caption */
  .nvx-table caption {
    padding-block: var(--nvx-space-3, 0.75rem);
    font-size: var(--nvx-text-sm, 0.875rem);
    color: var(--nvx-table-text-muted);
    text-align: center;
    caption-side: bottom;
  }

  /* Table Header */
  .nvx-table thead {
    background: var(--nvx-table-bg-header);
    border-block-end: 2px solid var(--nvx-table-border-strong);
  }

  .nvx-table th {
    padding: var(--nvx-table-cell-padding);
    font-weight: var(--nvx-font-semibold, 600);
    text-align: left;
    vertical-align: middle;
    color: var(--nvx-table-text);
    white-space: nowrap;
    position: relative;
    border-inline-end: 1px solid var(--nvx-table-border);
  }

  .nvx-table th:last-child {
    border-inline-end: none;
  }

  /* Table Body */
  .nvx-table tbody {
    background: var(--nvx-table-bg);
  }

  .nvx-table td {
    padding: var(--nvx-table-cell-padding);
    vertical-align: middle;
    border-block-start: 1px solid var(--nvx-table-border);
    border-inline-end: 1px solid var(--nvx-table-border);
  }

  .nvx-table td:last-child {
    border-inline-end: none;
  }

  /* Table Footer */
  .nvx-table tfoot {
    background: var(--nvx-table-bg-footer);
    border-block-start: 2px solid var(--nvx-table-border-strong);
  }

  .nvx-table tfoot td {
    padding: var(--nvx-table-cell-padding);
    font-weight: var(--nvx-font-medium, 500);
    color: var(--nvx-table-text);
  }

  /* Dark Theme */
  [data-theme="dark"] .nvx-table {
    background: var(--nvx-table-bg-dark);
    color: var(--nvx-table-text-dark);
    border-color: var(--nvx-table-border-dark);
    box-shadow: var(--nvx-table-shadow-dark);
  }

  [data-theme="dark"] .nvx-table thead {
    background: var(--nvx-table-bg-header-dark);
    border-block-end-color: var(--nvx-table-border-strong-dark);
  }

  [data-theme="dark"] .nvx-table th {
    border-inline-end-color: var(--nvx-table-border-dark);
    color: var(--nvx-table-text-dark);
  }

  [data-theme="dark"] .nvx-table tbody {
    background: var(--nvx-table-bg-dark);
  }

  [data-theme="dark"] .nvx-table td {
    border-block-start-color: var(--nvx-table-border-dark);
    border-inline-end-color: var(--nvx-table-border-dark);
    color: var(--nvx-table-text-dark);
  }

  [data-theme="dark"] .nvx-table tfoot {
    background: var(--nvx-table-bg-footer-dark);
    border-block-start-color: var(--nvx-table-border-strong-dark);
  }

  [data-theme="dark"] .nvx-table caption {
    color: var(--nvx-table-text-muted-dark);
  }

  /* System Dark Theme Detection */
  @media (prefers-color-scheme: dark) {
    .nvx-table:not([data-theme]) {
      background: var(--nvx-table-bg-dark);
      color: var(--nvx-table-text-dark);
      border-color: var(--nvx-table-border-dark);
      box-shadow: var(--nvx-table-shadow-dark);
    }
    
    .nvx-table:not([data-theme]) thead {
      background: var(--nvx-table-bg-header-dark);
      border-block-end-color: var(--nvx-table-border-strong-dark);
    }
    
    .nvx-table:not([data-theme]) th {
      border-inline-end-color: var(--nvx-table-border-dark);
      color: var(--nvx-table-text-dark);
    }
    
    .nvx-table:not([data-theme]) td {
      border-block-start-color: var(--nvx-table-border-dark);
      border-inline-end-color: var(--nvx-table-border-dark);
      color: var(--nvx-table-text-dark);
    }
  }
}

/* ===================================== */
/* VARIANT LAYER - STYLE VARIANTS         */
/* ===================================== */
@layer nvx.table.variants {
  /* Striped Variant */
  .nvx-table-striped tbody tr:nth-child(even) {
    background: var(--nvx-table-bg-striped);
  }

  [data-theme="dark"] .nvx-table-striped tbody tr:nth-child(even) {
    background: var(--nvx-table-bg-striped-dark);
  }

  @media (prefers-color-scheme: dark) {
    .nvx-table-striped:not([data-theme]) tbody tr:nth-child(even) {
      background: var(--nvx-table-bg-striped-dark);
    }
  }

  /* Hover Variant */
  .nvx-table-hover tbody tr:hover {
    background: var(--nvx-table-bg-hover);
    transition: background-color var(--nvx-duration-fast, 150ms) var(--nvx-ease-standard);
  }

  [data-theme="dark"] .nvx-table-hover tbody tr:hover {
    background: var(--nvx-table-bg-hover-dark);
  }

  @media (prefers-color-scheme: dark) {
    .nvx-table-hover:not([data-theme]) tbody tr:hover {
      background: var(--nvx-table-bg-hover-dark);
    }
  }

  /* Bordered Variant */
  .nvx-table-bordered {
    border: 2px solid var(--nvx-table-border-strong);
  }

  .nvx-table-bordered th,
  .nvx-table-bordered td {
    border: 1px solid var(--nvx-table-border-strong);
  }

  [data-theme="dark"] .nvx-table-bordered,
  @media (prefers-color-scheme: dark) {
    .nvx-table-bordered:not([data-theme]) {
      border-color: var(--nvx-table-border-strong-dark);
    }
    
    .nvx-table-bordered:not([data-theme]) th,
    .nvx-table-bordered:not([data-theme]) td {
      border-color: var(--nvx-table-border-strong-dark);
    }
  }

  /* Borderless Variant */
  .nvx-table-borderless,
  .nvx-table-borderless th,
  .nvx-table-borderless td,
  .nvx-table-borderless thead,
  .nvx-table-borderless tfoot {
    border: none !important;
    background: transparent !important;
  }

  /* Compact Variant */
  .nvx-table-sm th,
  .nvx-table-sm td {
    padding: var(--nvx-table-cell-padding-sm);
    font-size: var(--nvx-table-font-size-sm);
  }

  /* Large Variant */
  .nvx-table-lg th,
  .nvx-table-lg td {
    padding: var(--nvx-table-cell-padding-lg);
    font-size: var(--nvx-table-font-size-lg);
  }

  /* Sticky Header Variant */
  .nvx-table-sticky thead th {
    position: sticky;
    top: 0;
    z-index: var(--nvx-z-sticky, 1020);
    background: var(--nvx-table-sticky-bg);
    box-shadow: inset 0 -2px 0 var(--nvx-table-border), var(--nvx-table-sticky-shadow);
  }

  [data-theme="dark"] .nvx-table-sticky thead th {
    background: var(--nvx-table-sticky-bg-dark);
    box-shadow: inset 0 -2px 0 var(--nvx-table-border-dark), var(--nvx-table-sticky-shadow-dark);
  }

  /* Sticky Columns Variant */
  .nvx-table-sticky-col th:first-child,
  .nvx-table-sticky-col td:first-child {
    position: sticky;
    left: 0;
    z-index: var(--nvx-z-sticky, 1020);
    background: inherit;
    box-shadow: inset -2px 0 0 var(--nvx-table-border), var(--nvx-table-sticky-shadow);
  }

  .nvx-table-sticky-col th:last-child,
  .nvx-table-sticky-col td:last-child {
    position: sticky;
    right: 0;
    z-index: var(--nvx-z-sticky, 1020);
    background: inherit;
    box-shadow: inset 2px 0 0 var(--nvx-table-border), var(--nvx-table-sticky-shadow);
  }

  [data-theme="dark"] .nvx-table-sticky-col th:first-child,
  [data-theme="dark"] .nvx-table-sticky-col td:first-child,
  [data-theme="dark"] .nvx-table-sticky-col th:last-child,
  [data-theme="dark"] .nvx-table-sticky-col td:last-child {
    box-shadow: inset -2px 0 0 var(--nvx-table-border-dark), var(--nvx-table-sticky-shadow-dark);
  }

  /* Sortable Variant */
  .nvx-table-sort th {
    cursor: pointer;
    user-select: none;
    padding-inline-end: calc(var(--nvx-space-6, 1.5rem) + 1em);
  }

  .nvx-table-sort th::after {
    content: '‚ÜïÔ∏è';
    position: absolute;
    inset-inline-end: var(--nvx-space-3, 0.75rem);
    top: 50%;
    transform: translateY(-50%);
    font-size: 1em;
    opacity: 0.5;
    transition: opacity var(--nvx-duration-fast, 150ms) ease;
  }

  .nvx-table-sort th:hover::after {
    opacity: 1;
  }

  .nvx-table-sort th[aria-sort="ascending"]::after {
    content: '‚Üë';
    color: var(--nvx-table-sort-icon-active);
    opacity: 1;
  }

  .nvx-table-sort th[aria-sort="descending"]::after {
    content: '‚Üì';
    color: var(--nvx-table-sort-icon-active);
    opacity: 1;
  }

  /* Selection Variant */
  .nvx-table-select th:first-child,
  .nvx-table-select td:first-child {
    width: 48px;
    text-align: center;
  }

  .nvx-table-select input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: var(--nvx-color-brand-primary, #3b82f6);
    cursor: pointer;
  }

  /* Status Variants */
  .nvx-table tr.nvx-table-success {
    --nvx-table-bg: rgba(var(--nvx-success-rgb, 16,185,129), 0.1);
    --nvx-table-bg-hover: rgba(var(--nvx-success-rgb, 16,185,129), 0.15);
  }
  
  .nvx-table tr.nvx-table-warning {
    --nvx-table-bg: rgba(var(--nvx-warning-rgb, 245,158,11), 0.1);
    --nvx-table-bg-hover: rgba(var(--nvx-warning-rgb, 245,158,11), 0.15);
  }
  
  .nvx-table tr.nvx-table-danger {
    --nvx-table-bg: rgba(var(--nvx-danger-rgb, 239,68,68), 0.1);
    --nvx-table-bg-hover: rgba(var(--nvx-danger-rgb, 239,68,68), 0.15);
  }
  
  .nvx-table tr.nvx-table-info {
    --nvx-table-bg: rgba(var(--nvx-info-rgb, 6,182,212), 0.1);
    --nvx-table-bg-hover: rgba(var(--nvx-info-rgb, 6,182,212), 0.15);
  }

  [data-theme="dark"] .nvx-table tr.nvx-table-success {
    --nvx-table-bg: rgba(var(--nvx-success-rgb, 16,185,129), 0.2);
  }
  
  [data-theme="dark"] .nvx-table tr.nvx-table-warning {
    --nvx-table-bg: rgba(var(--nvx-warning-rgb, 245,158,11), 0.2);
  }
  
  [data-theme="dark"] .nvx-table tr.nvx-table-danger {
    --nvx-table-bg: rgba(var(--nvx-danger-rgb, 239,68,68), 0.2);
  }
  
  [data-theme="dark"] .nvx-table tr.nvx-table-info {
    --nvx-table-bg: rgba(var(--nvx-info-rgb, 6,182,212), 0.2);
  }
}

/* ===================================== */
/* RESPONSIVE LAYER - CORE FOCUS          */
/* ===================================== */
@layer nvx.table.utilities {
  /* Base Responsive Container */
  .nvx-table-responsive {
    width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    margin-block-end: var(--nvx-space-6, 1.5rem);
    border-radius: var(--nvx-table-radius);
    box-shadow: var(--nvx-table-shadow);
    contain: paint;
  }

  .nvx-table-responsive > .nvx-table {
    margin-block-end: 0;
    box-shadow: none;
  }

  /* Card Style Responsive */
  @container table (max-width: 600px) {
    .nvx-table-responsive-card,
    .nvx-table[data-responsive="card"] {
      border: none;
      background: transparent;
      box-shadow: none;
    }
    
    .nvx-table-responsive-card thead,
    .nvx-table[data-responsive="card"] thead {
      display: none;
    }
    
    .nvx-table-responsive-card tbody,
    .nvx-table[data-responsive="card"] tbody,
    .nvx-table-responsive-card tr,
    .nvx-table[data-responsive="card"] tr,
    .nvx-table-responsive-card td,
    .nvx-table[data-responsive="card"] td {
      display: block;
      width: 100%;
      border: none;
    }
    
    .nvx-table-responsive-card tr,
    .nvx-table[data-responsive="card"] tr {
      margin-block-end: var(--nvx-space-4, 1rem);
      padding: var(--nvx-table-cell-padding);
      background: var(--nvx-table-bg);
      border: 1px solid var(--nvx-table-border);
      border-radius: var(--nvx-table-radius);
      box-shadow: var(--nvx-table-shadow);
    }
    
    .nvx-table-responsive-card td,
    .nvx-table[data-responsive="card"] td {
      padding: var(--nvx-space-2, 0.5rem) 0;
      text-align: left;
      border-bottom: 1px dashed var(--nvx-table-border);
    }
    
    .nvx-table-responsive-card td:last-child,
    .nvx-table[data-responsive="card"] td:last-child {
      border-bottom: none;
    }
    
    .nvx-table-responsive-card td::before,
    .nvx-table[data-responsive="card"] td::before {
      content: attr(data-label);
      display: inline-block;
      width: 40%;
      min-width: 120px;
      font-weight: var(--nvx-font-semibold, 600);
      color: var(--nvx-table-text-muted);
    }
  }

  /* Legacy Fallback for Responsive Card */
  @media (max-width: 600px) {
    .nvx-table-responsive-card,
    .nvx-table[data-responsive="card"] {
      border: none;
      background: transparent;
      box-shadow: none;
    }
    
    .nvx-table-responsive-card thead,
    .nvx-table[data-responsive="card"] thead {
      display: none;
    }
    
    .nvx-table-responsive-card tbody,
    .nvx-table[data-responsive="card"] tbody,
    .nvx-table-responsive-card tr,
    .nvx-table[data-responsive="card"] tr,
    .nvx-table-responsive-card td,
    .nvx-table[data-responsive="card"] td {
      display: block;
      width: 100%;
      border: none;
    }
    
    .nvx-table-responsive-card tr,
    .nvx-table[data-responsive="card"] tr {
      margin-block-end: var(--nvx-space-4, 1rem);
      padding: var(--nvx-table-cell-padding);
      background: var(--nvx-table-bg);
      border: 1px solid var(--nvx-table-border);
      border-radius: var(--nvx-table-radius);
      box-shadow: var(--nvx-table-shadow);
    }
    
    .nvx-table-responsive-card td,
    .nvx-table[data-responsive="card"] td {
      padding: var(--nvx-space-2, 0.5rem) 0;
      text-align: left;
      border-bottom: 1px dashed var(--nvx-table-border);
    }
    
    .nvx-table-responsive-card td:last-child,
    .nvx-table[data-responsive="card"] td:last-child {
      border-bottom: none;
    }
    
    .nvx-table-responsive-card td::before,
    .nvx-table[data-responsive="card"] td::before {
      content: attr(data-label);
      display: inline-block;
      width: 40%;
      min-width: 120px;
      font-weight: var(--nvx-font-semibold, 600);
      color: var(--nvx-table-text-muted);
    }
  }

  /* Dark theme for card responsive */
  @media (max-width: 600px) {
    [data-theme="dark"] .nvx-table-responsive-card tr,
    [data-theme="dark"] .nvx-table[data-responsive="card"] tr {
      background: var(--nvx-table-bg-dark);
      border-color: var(--nvx-table-border-dark);
    }
    
    [data-theme="dark"] .nvx-table-responsive-card td,
    [data-theme="dark"] .nvx-table[data-responsive="card"] td {
      border-bottom-color: var(--nvx-table-border-dark);
    }
    
    [data-theme="dark"] .nvx-table-responsive-card td::before,
    [data-theme="dark"] .nvx-table[data-responsive="card"] td::before {
      color: var(--nvx-table-text-muted-dark);
    }
  }

  /* Scroll Indicators */
  .nvx-table-responsive {
    position: relative;
  }

  .nvx-table-responsive::before,
  .nvx-table-responsive::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    width: 24px;
    pointer-events: none;
    opacity: 0;
    transition: opacity var(--nvx-duration-fast, 150ms) ease;
    z-index: 1;
  }

  .nvx-table-responsive::before {
    left: 0;
    background: linear-gradient(to right, var(--nvx-table-bg), transparent);
  }

  .nvx-table-responsive::after {
    right: 0;
    background: linear-gradient(to left, var(--nvx-table-bg), transparent);
  }

  .nvx-table-responsive.scrollable-left::before,
  .nvx-table-responsive.scrollable-right::after {
    opacity: 1;
  }

  [data-theme="dark"] .nvx-table-responsive::before {
    background: linear-gradient(to right, var(--nvx-table-bg-dark), transparent);
  }

  [data-theme="dark"] .nvx-table-responsive::after {
    background: linear-gradient(to left, var(--nvx-table-bg-dark), transparent);
  }

  /* Touch Device Optimization */
  @media (hover: none) and (pointer: coarse) {
    .nvx-table-responsive {
      -webkit-overflow-scrolling: touch;
    }
    
    .nvx-table td,
    .nvx-table th {
      min-height: 44px;
    }
    
    .nvx-table-select input[type="checkbox"] {
      min-width: 44px;
      min-height: 44px;
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .nvx-table-hover tbody tr:hover {
      transition: none;
    }
  }

  /* Print Styles */
  @media print {
    .nvx-table-responsive {
      overflow: visible;
      box-shadow: none;
    }
    
    .nvx-table-responsive::before,
    .nvx-table-responsive::after {
      display: none;
    }
    
    .nvx-table {
      break-inside: avoid;
      border: 1px solid #000;
      box-shadow: none;
      background: #fff;
      color: #000;
    }
    
    .nvx-table thead {
      background: #fff;
      border-bottom: 2px solid #000;
    }
    
    .nvx-table th,
    .nvx-table td {
      border: 1px solid #000;
      color: #000;
    }
    
    .nvx-table-striped tbody tr:nth-child(even) {
      background: #f5f5f5;
    }
  }
}

/* ===================================== */
/* FALLBACK LAYER - OLDER BROWSERS        */
/* ===================================== */
@layer nvx.table.fallbacks {
  /* No container query support */
  @supports not (container-type: inline-size) {
    @media (max-width: 600px) {
      .nvx-table[data-responsive="card"] {
        border: none;
        background: transparent;
        box-shadow: none;
      }
      
      .nvx-table[data-responsive="card"] thead {
        display: none;
      }
      
      .nvx-table[data-responsive="card"] tbody,
      .nvx-table[data-responsive="card"] tr,
      .nvx-table[data-responsive="card"] td {
        display: block;
        width: 100%;
        border: none;
      }
      
      .nvx-table[data-responsive="card"] tr {
        margin-block-end: var(--nvx-space-4, 1rem);
        padding: var(--nvx-table-cell-padding);
        background: var(--nvx-table-bg);
        border: 1px solid var(--nvx-table-border);
        border-radius: var(--nvx-table-radius);
        box-shadow: var(--nvx-table-shadow);
      }
      
      .nvx-table[data-responsive="card"] td {
        padding: var(--nvx-space-2, 0.5rem) 0;
        text-align: left;
        border-bottom: 1px dashed var(--nvx-table-border);
      }
      
      .nvx-table[data-responsive="card"] td:last-child {
        border-bottom: none;
      }
      
      .nvx-table[data-responsive="card"] td::before {
        content: attr(data-label);
        display: inline-block;
        width: 40%;
        min-width: 120px;
        font-weight: var(--nvx-font-semibold, 600);
        color: var(--nvx-table-text-muted);
      }
    }
  }

  /* No position: sticky support */
  @supports not (position: sticky) {
    .nvx-table-sticky thead th {
      position: static;
    }
    
    .nvx-table-sticky-col th:first-child,
    .nvx-table-sticky-col td:first-child,
    .nvx-table-sticky-col th:last-child,
    .nvx-table-sticky-col td:last-child {
      position: static;
    }
  }

  /* IE11 Specific */
  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
    .nvx-table {
      border-collapse: collapse;
    }
    
    .nvx-table th,
    .nvx-table td {
      border: 1px solid var(--nvx-table-border);
    }
    
    .nvx-table-sticky thead th {
      position: static;
    }
    
    .nvx-table-responsive {
      -ms-overflow-style: scrollbar;
    }
  }
}

/* Expandable Rows */
.nvx-table-expandable .nvx-expand-control {
  cursor: pointer;
  user-select: none;
  width: 2rem;
  text-align: center;
}

.nvx-table-expandable .nvx-expand-control::before {
  content: '‚ñ∂';
  display: inline-block;
  transition: transform var(--nvx-duration-fast, 150ms) ease;
}

.nvx-table-expandable tr[aria-expanded="true"] .nvx-expand-control::before {
  transform: rotate(90deg);
}

.nvx-table-expandable .nvx-expand-content {
  display: none;
  background: var(--nvx-table-bg-striped);
}

.nvx-table-expandable tr[aria-expanded="true"] + .nvx-expand-content {
  display: table-row;
}

/* Nested Table Styling */
.nvx-expand-content .nvx-table {
  margin: var(--nvx-space-4, 1rem);
  width: calc(100% - 2rem);
}

/* Filter Row */
.nvx-table-filter-row th {
  padding: var(--nvx-space-3, 0.75rem);
  background: var(--nvx-table-bg-header);
}

.nvx-table-filter-input {
  width: 100%;
  padding: var(--nvx-space-2, 0.5rem);
  border: 1px solid var(--nvx-table-border);
  border-radius: var(--nvx-radius-md, 0.375rem);
  background: var(--nvx-table-bg);
  color: var(--nvx-table-text);
  font-size: var(--nvx-table-font-size-sm);
}

.nvx-table-filter-input:focus {
  outline: 2px solid var(--nvx-color-brand-primary, #3b82f6);
  outline-offset: 2px;
}

/* Column Filter Dropdown */
.nvx-table-filter-menu {
  position: relative;
}

.nvx-table-filter-button {
  background: none;
  border: none;
  padding: var(--nvx-space-1, 0.25rem);
  cursor: pointer;
  opacity: 0.6;
  transition: opacity var(--nvx-duration-fast, 150ms) ease;
}

.nvx-table-filter-button:hover,
.nvx-table-filter-button[aria-expanded="true"] {
  opacity: 1;
}

.nvx-table-filter-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 200px;
  background: var(--nvx-table-bg);
  border: 1px solid var(--nvx-table-border);
  border-radius: var(--nvx-radius-md, 0.375rem);
  box-shadow: var(--nvx-shadow-lg, 0 10px 15px -3px rgba(0,0,0,0.1));
  z-index: var(--nvx-z-dropdown, 1030);
  display: none;
}

.nvx-table-filter-button[aria-expanded="true"] + .nvx-table-filter-dropdown {
  display: block;
}

/* Drag & Drop Column Reordering */
.nvx-table-draggable th {
  cursor: grab;
}

.nvx-table-draggable th:active {
  cursor: grabbing;
}

.nvx-table-draggable .nvx-drag-handle {
  display: inline-block;
  width: 1.5rem;
  height: 1.5rem;
  margin-inline-end: var(--nvx-space-2, 0.5rem);
  background: linear-gradient(135deg, 
    currentColor 2px, 
    transparent 2px) 0 0/4px 4px;
  opacity: 0.5;
  cursor: grab;
}

.nvx-table-draggable .nvx-drag-handle:active {
  cursor: grabbing;
}

.nvx-table-dragging {
  opacity: 0.5;
  box-shadow: var(--nvx-shadow-xl, 0 20px 25px -5px rgba(0,0,0,0.1));
}

.nvx-table-drop-target {
  border-inline-start: 3px solid var(--nvx-color-brand-primary, #3b82f6);
}

/* Selection States */
.nvx-table-select tr[aria-selected="true"] {
  background: rgba(var(--nvx-brand-rgb, 59,130,246), 0.1);
  box-shadow: inset 4px 0 0 var(--nvx-color-brand-primary, #3b82f6);
}

.nvx-table-select .nvx-selection-actions {
  position: sticky;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--nvx-table-bg-header);
  border-block-start: 2px solid var(--nvx-table-border-strong);
  padding: var(--nvx-space-3, 0.75rem);
  display: flex;
  gap: var(--nvx-space-2, 0.5rem);
  justify-content: flex-end;
  z-index: var(--nvx-z-sticky, 1020);
  box-shadow: var(--nvx-shadow-lg, 0 -4px 6px -1px rgba(0,0,0,0.1));
}

/* Indeterminate Checkbox State */
.nvx-table-select input[type="checkbox"]:indeterminate {
  background: linear-gradient(135deg, 
    var(--nvx-color-brand-primary, #3b82f6) 0%,
    var(--nvx-color-brand-primary, #3b82f6) 100%);
  border-color: var(--nvx-color-brand-primary, #3b82f6);
}

/* Editable Cells */
.nvx-table-editable td[contenteditable="true"] {
  cursor: text;
  background: rgba(var(--nvx-brand-rgb, 59,130,246), 0.05);
  outline: none;
  border-radius: var(--nvx-radius-sm, 0.25rem);
}

.nvx-table-editable td[contenteditable="true"]:hover {
  background: rgba(var(--nvx-brand-rgb, 59,130,246), 0.1);
}

.nvx-table-editable td[contenteditable="true"]:focus {
  background: var(--nvx-table-bg);
  box-shadow: inset 0 0 0 2px var(--nvx-color-brand-primary, #3b82f6);
}

.nvx-table-editable .nvx-edit-indicator::after {
  content: '‚úé';
  font-size: 0.75rem;
  margin-inline-start: var(--nvx-space-2, 0.5rem);
  opacity: 0.5;
}

/* Edit Mode */
.nvx-table-edit-mode td {
  transition: background-color var(--nvx-duration-fast, 150ms) ease;
}

.nvx-table-edit-mode tr:hover td {
  background: var(--nvx-table-bg-hover);
}

/* Virtual Scroll Indicators */
.nvx-table-virtual {
  position: relative;
  max-height: 400px;
  overflow-y: auto;
}

.nvx-table-virtual::before,
.nvx-table-virtual::after {
  content: '';
  position: sticky;
  left: 0;
  right: 0;
  height: 20px;
  pointer-events: none;
  z-index: 2;
}

.nvx-table-virtual::before {
  top: 0;
  background: linear-gradient(to bottom, 
    var(--nvx-table-bg), 
    transparent);
}

.nvx-table-virtual::after {
  bottom: 0;
  background: linear-gradient(to top, 
    var(--nvx-table-bg), 
    transparent);
}

/* Loading More Indicator */
.nvx-table-loading-more {
  text-align: center;
  padding: var(--nvx-space-4, 1rem);
  background: var(--nvx-table-bg-striped);
  border-block-start: 1px solid var(--nvx-table-border);
}

.nvx-table-loading-more::after {
  content: '';
  display: inline-block;
  width: 1rem;
  height: 1rem;
  border: 2px solid var(--nvx-table-border-strong);
  border-top-color: var(--nvx-color-brand-primary, #3b82f6);
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

/* Export Styles */
.nvx-table-export {
  margin-block-end: var(--nvx-space-4, 1rem);
  display: flex;
  gap: var(--nvx-space-2, 0.5rem);
  justify-content: flex-end;
}

.nvx-table-export-button {
  padding: var(--nvx-space-2, 0.5rem) var(--nvx-space-4, 1rem);
  background: var(--nvx-table-bg-header);
  border: 1px solid var(--nvx-table-border);
  border-radius: var(--nvx-radius-md, 0.375rem);
  color: var(--nvx-table-text);
  font-size: var(--nvx-table-font-size-sm);
  cursor: pointer;
  transition: all var(--nvx-duration-fast, 150ms) ease;
}

.nvx-table-export-button:hover {
  background: var(--nvx-table-bg-hover);
  border-color: var(--nvx-table-border-strong);
}

.nvx-table-export-button:active {
  transform: translateY(1px);
}

/* Export Formats */
.nvx-table-export-csv::before {
  content: 'üìä';
  margin-inline-end: var(--nvx-space-2, 0.5rem);
}

.nvx-table-export-pdf::before {
  content: 'üìÑ';
  margin-inline-end: var(--nvx-space-2, 0.5rem);
}

.nvx-table-export-print::before {
  content: 'üñ®Ô∏è';
  margin-inline-end: var(--nvx-space-2, 0.5rem);
}

/* Smooth Animations */
@keyframes nvx-table-row-enter {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.nvx-table-animate tbody tr {
  animation: nvx-table-row-enter 0.3s ease forwards;
}

.nvx-table-animate tbody tr:nth-child(1) { animation-delay: 0.05s; }
.nvx-table-animate tbody tr:nth-child(2) { animation-delay: 0.1s; }
.nvx-table-animate tbody tr:nth-child(3) { animation-delay: 0.15s; }
.nvx-table-animate tbody tr:nth-child(4) { animation-delay: 0.2s; }
.nvx-table-animate tbody tr:nth-child(5) { animation-delay: 0.25s; }
/* Continue as needed */

/* Row Update Animation */
@keyframes nvx-table-update {
  0% {
    background-color: rgba(var(--nvx-brand-rgb, 59,130,246), 0.3);
  }
  100% {
    background-color: transparent;
  }
}

.nvx-table tr.nvx-table-updated {
  animation: nvx-table-update 1s ease;
}

/* Screen Reader Only */
.nvx-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* High Contrast Mode Support */
@media (forced-colors: active) {
  .nvx-table,
  .nvx-table th,
  .nvx-table td {
    border-color: CanvasText;
  }
  
  .nvx-table-sticky thead th {
    border-bottom: 2px solid CanvasText;
  }
  
  .nvx-table-sort th::after {
    forced-color-adjust: none;
  }
}

/* Keyboard Navigation */
.nvx-table [tabindex="0"]:focus-visible {
  outline: 3px solid var(--nvx-color-brand-primary, #3b82f6);
  outline-offset: 2px;
  position: relative;
  z-index: 3;
}

.nvx-table-navigation td:focus-within {
  background: var(--nvx-table-bg-hover);
}

/* Tooltips */
.nvx-table [data-tooltip] {
  position: relative;
  cursor: help;
}

.nvx-table [data-tooltip]::before {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  padding: var(--nvx-space-2, 0.5rem) var(--nvx-space-3, 0.75rem);
  background: var(--nvx-color-bg-inverse, #1e293b);
  color: var(--nvx-color-text-inverse, #ffffff);
  font-size: var(--nvx-text-xs, 0.75rem);
  white-space: nowrap;
  border-radius: var(--nvx-radius-md, 0.375rem);
  box-shadow: var(--nvx-shadow-lg, 0 10px 15px -3px rgba(0,0,0,0.1));
  opacity: 0;
  visibility: hidden;
  transition: all var(--nvx-duration-fast, 150ms) ease;
  z-index: var(--nvx-z-tooltip, 1040);
  pointer-events: none;
}

.nvx-table [data-tooltip]:hover::before {
  opacity: 1;
  visibility: visible;
  bottom: calc(100% + 5px);
}

/* Column Summaries */
.nvx-table-summary {
  background: var(--nvx-table-bg-footer);
  font-weight: var(--nvx-font-semibold, 600);
}

.nvx-table-summary td {
  border-block-start: 2px solid var(--nvx-table-border-strong);
}

/* Tree View / Hierarchical Data */
.nvx-table-tree .nvx-tree-level-1 { padding-inline-start: 2rem; }
.nvx-table-tree .nvx-tree-level-2 { padding-inline-start: 4rem; }
.nvx-table-tree .nvx-tree-level-3 { padding-inline-start: 6rem; }

/* Sparklines / Mini Charts */
.nvx-table-sparkline {
  width: 100px;
  height: 30px;
}

/* Conditional Formatting */
.nvx-table td[data-value="high"] { 
  background: rgba(var(--nvx-success-rgb, 16,185,129), 0.2);
}
.nvx-table td[data-value="medium"] { 
  background: rgba(var(--nvx-warning-rgb, 245,158,11), 0.2);
}
.nvx-table td[data-value="low"] { 
  background: rgba(var(--nvx-danger-rgb, 239,68,68), 0.2);
}

/* Skeleton Loading */
.nvx-table-skeleton td {
  position: relative;
  overflow: hidden;
}

.nvx-table-skeleton td::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent 25%,
    rgba(255,255,255,0.2) 50%,
    transparent 75%
  );
  animation: nvx-skeleton-wave 1.5s infinite;
}

@keyframes nvx-skeleton-wave {
  from { transform: translateX(-100%); }
  to { transform: translateX(100%); }
}

/* Column Resizing */
.nvx-table-resizable th {
  position: relative;
}

.nvx-table-resizable th::after {
  content: '';
  position: absolute;
  right: -4px;
  top: 0;
  bottom: 0;
  width: 8px;
  cursor: col-resize;
  background: transparent;
  z-index: 5;
}

.nvx-table-resizable th:active::after {
  background: rgba(var(--nvx-brand-rgb, 59,130,246), 0.3);
}

/* Data Validation */
.nvx-table td[data-invalid="true"] {
  background: rgba(var(--nvx-danger-rgb, 239,68,68), 0.1);
  border-left: 3px solid rgb(var(--nvx-danger-rgb, 239,68,68));
}

.nvx-table td[data-warning="true"] {
  background: rgba(var(--nvx-warning-rgb, 245,158,11), 0.1);
  border-left: 3px solid rgb(var(--nvx-warning-rgb, 245,158,11));
}

/* User Preference Support */
@media (prefers-contrast: more) {
  .nvx-table {
    border-width: 2px;
  }
  
  .nvx-table th,
  .nvx-table td {
    border-width: 1px;
  }
}

@media (prefers-color-scheme: light) {
  .nvx-table {
    --nvx-table-contrast-adjust: 1;
  }
}
/* ===================================== */
/* NEVOX ENTERPRISE TABLE SYSTEM v4.1     */
/* ENTERPRISE-GRADE ‚Ä¢ PRODUCTION-READY    */
/* WCAG 2.1 AAA ‚Ä¢ SECTION 508 COMPLIANT   */
/* COMPLETE FINAL VERSION - 100% ENTERPRISE */
/* ===================================== */
